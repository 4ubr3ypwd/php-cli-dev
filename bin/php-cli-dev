#!/usr/bin/env php
<?php

namespace aubreypwd\PHP_CLI_Dev;

require_once __DIR__ . '/../autoload.php';

final class Command extends \aubreypwd\PHP_CLI\CLI {

	protected function setup( \splitbrain\phpcli\Options $options ) {

		$options->setHelp( 'Command description.' );
		$options->registerOption( 'version', 'Print version.', 'v' );

		// has_command()
		$this->info( $this->has_command( 'brew' ) ? 'brew is installed' : 'brew not installed' );
		$this->info( $this->has_command( 'asdfqwer01234' ) ? 'asdfqwer01234 is installed' : 'asdfqwer01234 not installed' );

		// get_php_version()
		$this->info( "The PHP version installed is: {$this->get_php_version()}" );

		$this->info( "The current dirname is: {$this->get_working_dirname()}" );
	}

	protected function main( \splitbrain\phpcli\Options $options ) {

		if ( $options->getOpt( 'version' ) ) {

			$this->info( '1.0.0' );

			return;
		}

		echo $options->help();
	}
}

$cli = new \aubreypwd\PHP_CLI_Dev\Command();

$cli->run();